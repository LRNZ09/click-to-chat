# Automatically generated on 2020-02-17 UTC from https://codemagic.io/app/5e30a8c4cb13950018702eb4/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  release:
    name: Release
    environment:
      vars:
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmVTdy1ZRFBib1BOYXQ1STJ4SFNFQlVCSEhtMkpJOWNWM2tJOFlnc1JMdk54cHpnclI3Wk9rWHFjSnJJYkZsdFlrOC1DUTJjTlViZ0xnR3JwVmFZdDVfWjZKYjBqd1NNSmJEN1FtXzF3OEtraFdOVmlUelU3TEVELTZBRkxGQVRxWnZ1VHJzelEtWUxRNzRBU2s2emFYU0hKeXBQQlNEamp3eHFOQzhjbkc5WC1XY2dtaVg3dUdmS1BMSkx5R3lQYVgxNzNfT2J6YzRWOE1jQzZWREV2MXVhd3g1WldjeHNwVTFOWkVXQjg2dDhsSU5JRFVsRU9CckRZR3hIQTdwY18tSzlURWZ6ZW9QWHc0QWxUU3BUUVJmbEpDdkZXYXpMQ1RKWks5MmlfUGJQVFFPOEhpM2RSVmdWdEYxR1dTMFhXYzBjVkVIVzJwNl9vTjJsRDU3VnlTTTlPbFhWU21YVnBRcnVZcHRZXzc0Z0EtLXdVR2xPNHAtN2xzdXc3UnpnMzdkMmV0RmNRdjBrbEI2U09keFZoRGYzb1pPWFhTeXEzQ1ZEUUVLMmlKSWd1dW9WNW12M29FbWt4eE5BRjZBbTZTa1NXbjl5b1ZQZmhPRGpqbDNwc2cxQXRYTzJEZWEwQmVuT01TVjZIN0ZuSUZNTmQ1VWRDMzVuQ1h4VW9EdjZXOE9WS2Z1OFh1dWphaEVGemNCY0x3c1g3ME5SMTZ3R3ZDTGp6b0pBRGlQMkRCQTZDMTdkRHU2ZGxfTklkNGQ1dGoxb05QZkNlc29BM3hpbzNNSzhxYzJjMGQwTUNGT0VrUTdWWGZ5bklzMktaS0VKQjY3Wnk0bV96MDEwV2w3cTNfVFY0NFBlZjNNOHdKS0s1dFI5T1lqLVNrRkc4RHNqcEdEbFJlUjFIUFhYX0pPMmZmTkt4Sk9pbG9IcFdhRTVNTjg5R0RNNWhibDE3ajNDMHpBQzJFZF96U3ZBN3NjTGEzcDFhQ0hzWjExbUwxV2d4WnJEdDF1cXpPcm5uTV9qNWxtUzdwUzZtWVNRVGd6X21wNEpvN2Yza0s5S1FCeG84NlRvLXVtUHgxYjJfc08zUlRCZ3JfRWdDaDRNRFhNTXNlZVkwYTVUVFVrTTN3OXV5ZDJTNGtvWndFYmlkel83c2JLc1pnM0VQMHJmUkE2bWR3SzFyTjVSVnBROUtObUlyZzdURm5KeWxZb1pIT2NKQXhQYWM0SzhOVFhCa3EzSHVBRkd5LVhoUVM2eGxvXzJXZ1dpeVJhUVVpc01GSTlGQVB4elJLNkdQTC1DcFdnYm1fYjBEem45anE0X0hJeHZ1YmhBa1paNVE4eG12RFFVZEtsSWhSYTA2ME1rWDZvMGFUbWtjTndwUElnLWM1djVPR0NyeFFKMk0tdEg3SFpPcEdoNUVvUEctLW93ZjFUZ3F4aFJRRDU2OU56Qy1oVDlRVnFEQUxNbjNYbnk0cWM4akNkTjhvV2ZraTY3X0hTVHhaWW9wZndINVZTSlh3amU3dmg2RzEwOV8tc3JlNzNWcmZkSGpPUlRrNWxNTVNWdC1BcGFsc0sySFpZN3UwbkozQjBXaEZYbm1zbS10Yy1Xb2lNbTJ2eEQ2LTM2b1VueTBqS3hzR2pvcEZaMzJCeGJyZHVoamd1bVA1aEdQSTBwVnU1NnJxeGF4VjI1M1AyYTdRWlZEQzN4OTFmaEc3OTMzMWRhaWhONWxMeDQzTGxoeElWX2tuSTJSNEtOOWdhdjByLWJlREpLa3BvNFVIcjdZNHFxajA4UlcxbHVlRmVBU3IweXF2TDg1andFV2EwYmpHS0NlR21YY01SY1hNdUhjaldrZTRZSTkzZXNSNDRoZl9FUWpQbHFIc2lCbEgwYzR2Yld3RnZGSkE5V0hCOU5PZ1NjSHZaSC1LSDdUQWFQbV9TcDROdW9KdElybzdyNUlWRkZ5MUdYb0N3QmlUVXprTHkxNWJuY182TUZVSWNoenRuMmthU0lwWnpfOVl0eWNXOTY2VWQzWWlZZTJZWjdRYTZMZnBCdEdxd1dOTnliYWxBQy04azNBdTRCNXBSQVp1S3kzbXBkdzk2UGROenJrMzc0YlJvRnNralFEa0JrRHNLRzRhTUpqODNESm56SXZZM1M4djlMTXMyeUxsWVAtOFVhM0t1OVNleUpELTJMM3FzYVNFOUxiNVYxOUo0UlZTd3pvVC13T0p5eVZ4VnFLal9BUXhhM2pHWlhud0VuS1czeUl0TmVMU29NdEFnZ1JhMEVuYk0xUEl0YzdBVEdqS0t3VEtiZURhbHhtZmQ1RmZqSV9xSWVqelRjdDFfRkktOWp2NmhmNjVxdVA5dzNUSXJkOUpTcnlwcEFfTG5tVzZCTmpKWmFZOUVoam9PN1d4N3p6VWd1eTZBYmdZeDUzR0RtbGZpUXhzZ1JSbzM3NHB5MFIxX1owVWFKUzQ3ZUN6cDN0YnNqOThzMXVkQ2dhcnZQdVRERHhYVUdlYVQwSGtoRmVESUxpay1GWnotY05BZnNtdlBIRWZZTmVSX1UybkFQc3pNSVpzR2dlOTgzYWdVdXd5ejlTZ0pnelZBeWFkeXBNU3pMdkdmNlNCaF9WTmpLRl93YUEzUkV4MEwwLVVJaFN3TnJuYjlzeDRhbzN5SDdtODVYQk9HNG1hQU9MbmZ0S29Oc0VybHpoY25YNDNnMF9SR2pMal95N2kyT3JUV3dnY1U3clhzNGgxZktaWEl1MnlFZDRQMHRyVWIxbFNmcTVHdFBGQjFwTFRxN2o0U1I3UnM2aWlkejRwcWtoZjZlUjkzOEkyMXNlaFAweEstczc4bmRULTN0THQxbGQ0YnZVM3Vubl8wWlZmQ1hxX1MweXpVbFNWTWdXa2ZydlNwWnQ4c09CZ1cycHFCczdBOGxhUVUwX1ZLX29ta1hTazA4QkcweXYtLXpiemtvVXZKemYydjdrTThqTGFJcWVGc1U3Y0Z2ZGlLYVVfRFN1T2U2VlRjUDRKWFZlazdBU0p4Z2NPMmlHbUUtZ2dvV0ZBRDVwN2pVVWhaY1h6UHpKOFpTbXFoSW9Qam9Ua1p6cFJsekw4R2dfTnkzMENoWEdOY1JzWmNfSVpETy1QeFZhWFdnOFJ2MGx4NG9mQ3NzZncxSUkxWGdEd1lqcERZVEc5TmNmaTdLWUZncVJ0ZUx0S243Nm5Qb0dzNlNQUHlLcGtXSTFLWjJrNUR0SzN3eHhHZEx3NEJDVEx5cVFtT21UM3lxT2lzeE1iUmFET2VtbjNWTGFOOTBHaDJzNXdrdURGTzlWY29tYnlwZEY5bWgxN1lZMlV5cUlCNnVEVTBJQ3VCaUZlUzRRQzY4TGg5ZUl4WkhKVHNMd2Q2Sll1Sko0S2VLZ0o5WnZPWld6d2NJUWowcDBrVmVKVFFJejlHdW1TRXRNdzJvaDh6elItUm14MllKUWliSnhMTUQ4YjRIdGUzWTVweng4cWlETGNUblpzeFU3Wk9DUUZTcEp0TnJKQ2pQS2VLSmg2WXJ0b3pFbk5vbHFkdG9EV05uTWVKWDZOWXg4Rk55SmxZTzlrNXA0Z3dBRHRjbkp6SENwZzNybUJYaE5GQnpENTAzcjZJZlJISzJadUFVU0ZoSFpfX2tLakFUTHBKREo5V2ZIZE12NmxvcFZoX3F3ZGJCaU5BU1RTMHNCNGNaTDNoWU1PanJrUHhqamhVRzc2cG4yZ0IzbGRwTFVUbUhVYnFvbTh4R2VOS0NWMWs2LTRxUWJ4QzB3bHFjSHhGNHhEa2JGLVJvUFJUNTlCRnlORXd6U0NUcUEwVGdfUHFLdklRcGFzOUl6Q1VVZFZYbjE2LWJTOTBMY2NvcUthTWNHa2NBS0NqVHV1NjFnRmM2UW9PSUhRbEVjNVVnVDRuc3p0T3pDbWV1M256dlNWNENUcWlEZU9jbXdLNHFaUTk2VlVzSjB3TE5DZ2lyc1FtSlJOcTlka09nck1LZ3A4RFRSalV6eWtSRDAzc0pGT3hJYnpwM0Ryb2pfU18yeGpjaHJNWVZ1SC1raXdXbVUxdEU3Y2NnbEctZk85X3JRbmwwbjVxaVFqS1NGSmY3QkFGNlpMY3JGbm9EVFpMSXQ2UXFUMkxxWXA1MUlxRnBHU1VoNUR2QkVocEhlSmhjeF9YREh2R0xnNWJ3ckVDZ1VlMUFGMGhlMXhXWHFnRUR5TDRmVm5ETWZJSnFBY2c0MnVHSTlhTjB3bGNjSXUwaFNtMXV4RmVHX0dqeXNEdTlWSElBaEtXTm9nS3FuUHJkMWdlSmluRHdwbHBPY0lodlRMeXZEYjRlR3pNZmFzTUxCQnk0by0zcEF5cjlZOV9oX2RUMnZER0pRQ2pfWUtTVkZhWl9JakJYRkNKMks2aldYUXRocXZDQmlxSV81bVNOd2FLUjBfZExEeFc0WVVHUGRxSGdxVkZnaVR3cS11ZWRoVER2aTNnTnNLVHhBLUJxaWFpcGI3YUMzc2YtUk13aWdoWEgwdnB2bGJscTNGSy1ZM3VXTHZJY201RHJuUXpQY3Q0dF91Q0ZuckdJYnpoQV9HQ2lEWUR2OTV1X29TbTc2bDRXd0JBT0x0UnFxUHR5Zkx0YjRkbHVMcmp2Q25tWVZPT0lrVDZreDVrNzRIaGpsam5fV3QwbzB2bGJPZl9GOW1vdDIyR2NmbTVFbjdINnpIS1p0bXZnMXRDdkVUQThrT2lFaF8wd1N4TkNJQUJTaFNubGJSRmUxMVdEUVJSc2tmRUY3SEJ3V09OVW16aExwQUU1bV9aeVFicE5XcGExQnVNdDhpaWY1S0xfdVkwYjFYVmlxWUJzTkR2NEJHT1BFWjR3OVo1SUY2Skh2dHZIdVlaMnp6Wm03QnZSNmQ0ZGtVdnlsREtLeW5HOE9OZHUyNXRTcDJXMUFVWnlHOHd1SVhOMDZ5RUh4U0dZTHROYkVJUmd2ckY3MTVMc2s5TVZLdXFoSzhaNUhVTFB6ZXZEbVFsX3NiYV9mVHdQUGk3MVRQUHJTdmluU0NURlRsUmRMYWdtY3laaEtZSldfdTRwMktDVnhDMXdqaXRFdkxfenV4c3dBNnFkVWo1Z1dodkM4TjZQRVFNbTJnenF2bWlMNW5zMHJWOGFtZ3BhaFNWOENvSGkxd0tJdnlNMTNDSks5Q1FYTS1yemJIVjAxSnFEOW1qVUNiaktZVmtXa25fdEt0dmMtVkJyRmxTeDd0UU93NUZ2ZE5ON3JuYkt2NENlSVh1T2J3RGk2RWxkc0tmUGh6ckZQeUtLdFZHYVQtejVaUWxZblhsQTJBR1oxY3RpVWZYcE5RNkdXTjEwOUVJWkliNzdXbVVmVjY5LW1GN0l5VkNsVlozMjNrd1NseVFIRWlNcURUSkZ3M2hSRnRRcXJPOVhPR3RaNUV2SjVsR2ExbWRPM0xicWZGMFdwNWt3VjNkcUJ2S0tJT081a0p1YlRucFNPUFFGaFNCTFNVMkVaZ0tTLWs5c2NUdU5VTjlCMjJpSTNSTlRDeWUydklaVi1uc291dC1CbV8wczBGWklWTVhpR1hma05sengyaTZITzdjRnloMWxTS2FGYVVrUENLN2pLZEtid0p6QXFQQlktR2Z4UlNUdEptajQ3QmZvTEdRUG1fSmFTbjUtM2Q1ZkFIbEFuR0pjOG03R3AwSmlRVEFkWmpXaXpvZlBzMU5qa0wzbU0wYWZVOWM0aGNTZHpjaHVSaDF2V1pkQ0xWSFhXdHhObDg2cHNET3pWMklrTzQ4anBubUlra3NKRjRINTd5LTNaWnplTjh5NUUxUkVfdTNEYzMtUXVQWS0zY0ZSSDVlTEhxWjJ3SlJqQ2xnNTdWcjVWckdDWmo2UWw0Y1pORzg2ZVhPVjhmNlI0b0RMWWYtbmhsN2J6el85ZlhWc19CQzlaU3RPcU5BV0FZcThMMUpiLW9qMWdGbmZ0OXk3NTQ5dmNwVHJIN21sUlNmbVpKQ1R3Ty1ZbFB0Ql9oeHdtYmtQdlh6SHVRMk5wN1dXeWk5VXhFVzg2aFpYY3p4TUxERklrOS04c3hvbUU1akc2c2ZVY3pwekRLVk5HN1NlN2tzRnNWREdnMV9JZFNyRnFOcXc1VVE4WXBqNnhXbmltX2RvQUNwUWhQb1dCRTB2ZEtuRl9JeGhFeldObHdjYmNRem1FYnRtNzlYR0Itd0EzRE03eHVzZ2Y5VG5BTWRTQXBmemZ0MDVONG1sbz0=)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmVTdy1ZQTdEZ0lfYjRIYVR0Rl95bVRfMlR0alNVMTNMY3NUZklfdkNFcXlvSUQ2WU5TUXZ4WlQxZnhvbFA2aFdGQ0VDakxUc21ud0w3MTlLWXYtWUdVZWotWkE9PQ==)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmVTdy1ZUnRoMml6a1dIOXRZcEp5TUFmOXNLWERtdHVzRkdEU1dnX3IwNXBZbmRmWmlNb0N0c3Z0MXdPWVZqY2FqM0RvNW80YmJZQkR4allKQ1U4NXh4dGF2VVE9PQ==)
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmVTdy1ZNFZnSUJBc0RuaVZqOFdtVzVOZ24wUERyYXk4dGpWRXpnMUk0YThNVm02VGg5QldtVGRWbEF4T3FWLXdtbk1KTElJNEIxdC1kTmRCSEsySWJiLWNLYVE9PQ==)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmVTdy1ZeFkzcWp5VFU0d3U1SzRzNE9QZFptWi1NOW81T254SlhHTjRzckkza2t5ZUg2TVFPNTd4WUZNUEswOXdNX0pQTVlRbGNGZ3Z6QnRNVko1dHdOUFMzanM0d2xRVGl1SWotNlQxZEVyMHNvV3dSd211cldVbU9hdjNrUVZ6YTM4NFV0eHNaTnZtNnpxNjl0ZW9GdXZoQ3ZnV0ZRVW82MTc0ZE5BelhlcGFvYXFnMWlMTk96Rzgta0VUdTRuMzVlSk5wX2xwMnJNRWw4Q3dFaGlVTjR0RWJJd1NGZTBJRlE5RHVsd2I4ZEg0S1FLcVhjT0FnTERiRmNTcmFFbUtwa2pBNExwVUIwV2ZPeEphVlNiaUg3UGRCeXM5azJjQ2xNeDhjRHNibXNYdmZBbVUwekdzdk5hdFFHRHUwdHROVVp2OGJiNnR1QTRCOVlNRml2NFNldlJQckI4NGJMa1REcldSN2duOXcxZFl3SWRZMXc2RUs0LW9pQ1hSUzZkUlh2T3R0N0xjSmpxUzhzQ1YyUXQxdmtCQVpYdVZjcmNKZU40aW5RaUE3c2V1Zmc4d0lWQ1lCRTlCT0dVR1BOTjdEa0FOeTQ0YnJmbHZ6WVRWRTVuZnM5MU1TdVNUcV83QzQ2eDk3bUF0U2M5Q0NYekJOcVpGWHczUlZzbkJMbC1CZEJYM0otb2VvTGRWVHVWOUo1SlF6dXhKeFNQbnE0SkpqTmlWNkJ6bGNSX1lOanR4d1A5N2dFMzZuQm80ci1NS2ZlTTgwdFhLR1pheXVvTGxXSGhyTlNMX2xlZy1OZVRCQ3dzZi16ME9Na1lpSmtKZjhidkFZRzdLZl81Vy02dXM2bGVqdUp6cmdYcllaZW1faU1wVm1NaFVqTkMzTW54YndwMlVaVTZ1RjdMaXVaZ1hxaDNNRFpIcnRYZnJGMlJJb1h6WjZMNHE1SkFfZi1sRFQyRVFDV2pQOTEzRktDc1YzYWlZLUVFbjlZTTRWNzJRZ3FCejZzM1BMOGdCUGFza2FTZW5pYjV4OUJUUEV2NUljTWZUeWhrNHdULUNkUlN3MUZHd2EtZlZUbWpmMEFMTnlYd1VJUkE5VVlhb2N4dXU3NkpTckdWd01hbkF2NllZMXNHcllpT1AzeG91bDNxQUxZQmlKV1J3UFFzOWNPTXlSQ0lDeTYyT2d4UnlINnY3ajZuYU5jT29ESGlPUGJwTVk0aVgyOGdwcXZ4RzV1M1U1RnZtckJYd19PMGphenQzU0d0S3JpZFNFZFhCZmI0WExVa3pEajFSWkRUZ1ZkTjY4YlZpamNwTl85OTFNakxEVmZMb2dNYmFaRlpFYUdxY1k3dDN2Vlktb1BtMkNCVnJFT05pVEVZR3EzYWl4bXhFbjAzRGVwZlhkZGxPNnNDS3FReFQzUmhINWY4TERjUkdlVzZ0YzVSWWRyOXRhT2hsVDhYbUg4U241WndaZUVybzB0VWJqYnJwSUdnR0V5LU1aRU9MXzlCUEZlTy12d1N1R0hPUDhlYzlhTDRqMFBvd2p5M0tIMTJxMDIwNVliMHNRTW16NHJ3MW14VXZOem9SalNyVmdwS280VjA3ZmRKTmtNYzhpRW91SXlpQ1pFdVZrS2FsMGEyS2YxeWJTcjA3UlRKd2JtVVQ4SV9Pai1uTmFjeXdocW4xdjBnWW9xcjFONWpFSzd6TnhqWHVOdWd6QURmaVExckcySE03VWdSdTVrT1RFUXpkOUpNNlFmVmZ1WWZXZEExR1k3TWliYnMtSzdDM2ZYVTdDbDNFZmFKQTByNTZSWVVMRlVPVVVla01sZFhnMnktMDNWYXJpc055TU9ZMXhVNFFtYWIzaktmQlpnTWJmVnQzUGs4aXJESGJydzJRQThaTk5EOV8zd2RMQk1maFhxOEZPYWZIa1A0UWt3cGFtVGRiUU5ZQ1Ryb2xBM0tRR29GdFJ4T21Yd3BpcExSS1BJZU5sNTdhYVJzMUJjMkQ4TVdDTG1abzE1MUxGbUFQNUFzdE96eWVQT0pPVHpEbHFWM2NQRmtlN2dDcVlxbnJHckRKcUtIaUwzeVktRHdiQTBza3UyVG9wWUFjRlNpVzlpRmRTd0FuTFZpXzBkYjNHcktTV0xBNEI0MGx1cFBHcEV6VHZ2bFVtRTFxWTllYl8xY0VqSlFyM3lSVzEza283WjE1cnp0UmNPcGxyQmRkNUt3N3RWeHdpZ25XQXB1TXhFazZGUXR1TmltM3ZtZDZwZzkyc2l2UXFWdXpqWlFER1BXNkR4VnNoZEVia1JKMGRFMU5fSU5rempKTHF3QlljcjMyTngycDlGOXVOdkJSbUtMWTJYTDBKV2hub0xNVnZQLVpIN3FqeHVCamY1SDc3YUo4YzVwcE9ERUppQjlDYUppQXVHSV92Qnk0ZUdacHA1QnlaQXpZdXpRY1M4TnA5Q0ZaUWZ0YXhSZFBqY2JNWWJueWFya2E3LUdyMGlHcW82U3VNeDBicWJzOElaM1A4Zmd3X2hkSUs4VG9meFJKVUZDNnR5enlMRGlhV1A3dy02Q2dPVk95VWVPX3FEM2pOZjF2SGpIQnloMFZPQ2VNX2NGTW1hczFESTVTVGx5cnFNLVROajB4cnJ3aVExT3ZjY0lyWnF6RjdGX0V4YXE0X2RSOE1lTXA0Z1BVeEdaamFHa1B0Nm1EVWlVZE5lYWZzSjV4UG1fdUN1TGdDck1RTHdIZFI0Qnd5a1cwZEM3Ujg1azRkVlBGb0JnQVI4d1NYeThsZ2hReUlLZmxWaGQwYVp2RXozV0J3R1VTc3hscFhLdGc4SW16TFgwbDRZdGtSZXp6ak85RGNnUDJYM3MwMUxtZDZqYTVQLUg1S2h2UnhCSUROWDVrU3UtZUZvN2RhTU5PS3ZKdE5tSmRHaGpfM1liaGhHQk9EZHBjZlpXWWtWLUhnZmYtY2l1eXVBb1RyTXVGd1RqV0VFckRlNkZMQ2dpWTJyUHhoWGlUWldUZEplS2tOemdpdUFrdTAyelRERHFfUVRVSzktQkpVYXJCM1d2OWJ3aEZubFRDSjlVSWtsVDBidUJubHAxaUw4RWd5)
        APP_STORE_CONNECT_ISSUER_ID: Encrypted(Z0FBQUFBQmVTdy1Zc2dGZFNuSXdrRlJHMUJ3YW02WnFtMERkTzk3ZTRZb3VCcFd4UFdXNFBFZW5yQUlNeXlrelhvWmVFaElNams5R2tJaUVJalJvUGo4eWNCTVJWQmxzc3ZnalFXZ3lGTWRUa01qOHhFZ1phVXExY0VXVUZqR3IyY0xWS0RENmtRTFc=)
        APP_STORE_CONNECT_KEY_IDENTIFIER: Encrypted(Z0FBQUFBQmVTdy1ZZndmdlZjMHR3LXhEUExROUpvX2IxbGl6MGp0NldDV3A0Q2tsLTF2YVJiWEZibnNVb2lLbDBXRERpY1RlY3lDckZ4ZFN5cEtER3loejE4UEt1b1E2cGc9PQ==)
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmVTdy1ZeTkxUWRCT1ZVZ2gxU0ppdlkzaFhGRFRXVXRZVDRYMERlLW82LTZzVDFkelNnWlZsWE03LWc4OS1GbHBRMzFiR2RKMXR4dzU0ZmlCbGExTUtTVHM1czNYdXFoTHR4M3ZjNkdqckF5LUN5WDVwT0hoMDA2Q0U0YzA4T0p6WXhaakhYRGdyRi01Y3ZmV2gtVDBDZS1kOUMzTDltakZEa0Fxa2dVSlBONjhCVFE2TDRYSDVhSHlDY19HQWZlSmtzZm5wSG1BUnNlR1Q0bDRVeTNRTDFvNlU2Z0hhaTQ1VVNCbTBNSzZKaHRybDdtLVpRRzViM3NwYV9sUWJPcjFiQmpVaEl6X3ItR1lNWjYyUlR0VWFVZnI2NHBlMGt2NzRkQ2pHamtwNmZ6V193M2Z1Q0wzZUZlU3gzNFFmcTQ4T3Fpam1KN21samNwSEhsUW5MWWlZSXpqQlN2Vmk5UmNfZHVQUnEtR2Mxa0ZKbERLNTFESW52RlhVQ1ZyZXFvM25FOVlidFhfcGFTZWxveFMwUmpXTWl0SUhFNXVtNEFtZzJIVGh2bXZwaTd6YzBBQT0=)
      flutter: stable
      xcode: latest
    cache:
      cache_paths:
        - $FCI_BUILD_DIR/build
        - $HOME/.gradle/caches
        - $HOME/.pub-cache
        - $HOME/Library/Developer/Xcode/DerivedData
    scripts:
      - |
        # set up key.properties
        echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$CM_KEYSTORE_PASSWORD
        keyPassword=$CM_KEY_ALIAS_PASSWORD
        keyAlias=$CM_KEY_ALIAS_USERNAME
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - cd . && flutter packages pub get
      - cd . && flutter analyze
      - cd . && flutter test
      - cd . && flutter build appbundle --release
      - |
        # generate signed universal apk with user specified keys
        universal-apk generate \
          --ks /tmp/keystore.keystore \
          --ks-pass $CM_KEYSTORE_PASSWORD \
          --ks-key-alias $CM_KEY_ALIAS_USERNAME \
          --key-pass $CM_KEY_ALIAS_PASSWORD \
          --pattern './build/**/outputs/**/*.aab'
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "$(xcode-project detect-bundle-id)"
        --type IOS_APP_STORE --create
      - keychain add-certificates
      - cd . && flutter build ios --release --no-codesign
      - xcode-project use-profiles
      - cd . && xcode-project build-ipa --workspace "ios/Runner.xcworkspace" --scheme
        "None"
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - email@lorenzopieri.dev
      google_play:
        credentials: Encrypted(Z0FBQUFBQmVTdy1ZOXBFRENueEF2UXRiWndFNUd0bUdKSjRsdWRiNGRJVk16ek5CTTFpcFA1eHU0OFVWWEJieWxmZG9fZ1ZZSnA1Rjh3UHRGUDBfamF1aUhrZG0tMkZWNXJ3cHJETmcxQU13cmZrenV6SlFTS243VlBjOFVmbFJ2WTJZa1FKeEdUWEJlY2FwUnE1TFFsVV9FM2tQRUQ3ZGhjdkVoOGp4YUd5X1g3VkkxeUJxMElvcEVCU0tnSDFzV2dwTVhwWDM3Z3dCclgzcjZyWUFudFdWNlpxRUZrUkw5OWs0VU5nVkFVR19Wem5obzJKYWZMOUdyaUhVbVdwMnJOTVNBaW84bGNvejlOYWJPN2MzX1otdEY0YkVlZjlBNlM4cWxVUjAzVk5MSXc2WW5WcHY2emVBWXVXdjFzeUJNdzh6bnlBNHlfZnNxZTVwRGNWVzBDWnpubUVjQTdZUnNRNmIzeWpNWHR5X1ViMGVfOHpaajUzcDBlQWo1aV9HdEZIN0c4ZzQ0djJDOE5QT1E3ai1LNDY4WEF3c2VORktGOUJ4bFZiN1p0VGU4TFJpZmtJVW5FdUVESk9uRFVEWHBuU1V2d0xLZXB0TjllQnhOMmxKUFFkM2NNMVZHVmhMb0dpU2ltY2hiMTd1YVlkRmhmYXZybHhWbkNwM0M2YVJoeC1ETGx4a1dnUHZfREN4czdaVE5LWmFBUlRTeXA4NWd1UUdQZ1d0OFYzSm1SLUVQYnZ3ekduRFBGNTNhUzQxRXREZGNMWHVOcnBnT2dJM3lORUZTMTVtRGU0Qml3Q2hsVWYxUk1YSV9fTmgzMWdXbGVUaldQUjhpVWZVeHJfRTQ2blZBblJJdFJLb2lMQ2ZJdVB6bWFzT3VteFpOQUl6WHI3YzBnQk5Ta3Q5X3Vsck16SnFzMXd4N1A5cGh6b3Y1Ukg4RTlHR01CWFhTNThfbUtoNVJFQUplZnJIa0tEYjNuejZ4WnMyOERXSW1LUmhMa3NQcWJVbm9EdENGSnFfbEtUWEtCVEZqb0pvNkRjanpKakdDOHhWcmJmNUd3QWpFcXVrbTVONlJaOFZycXBYNjFnXzcycklhYlYxSkdGU3YwQV9BWmNFeW1keTlzQUstY0M1UG1qUXJtOGpNOUFtblZpc2lOS0ZFekFCcFBUR3A5RXNZRUplUzBBbnQtUUFBSUlMOUVYR3VKR3pGb2UzZFVYNmFyZ0lDQnB2emlhV1JkWmNPbTRKVHBHcUZ4UlVYN1VWNzZTMjU0N21WLVJyYnJtU0xNblduRUI1UF9XV00xQjNNR1h2NEtJYTY2VFRsZzlhZ1B0Wkhvb3pMR19MdDMtVVlPVzMtV1kzRWUyMmxCOW9mU1R6dU9yQ0V4NG5sOE5sY0JnaG9vbl9EUmwtUW9tUlE1YTRZUUpseFFyWFRHdDZOcmFEZThqTkM4WHRnQzF5STdiN25NTXA0dzQ5TEdQWG5HSk5ld3pWWnMyOG5aXzdLdG5mT1FzWDVoYm1vZEwyZEoyczlMQkxkbUtraXdGLUhvVC1jdTJfR2Q1OEN6SWFYYjVXd1MtN3hzblN5YW1lZGl1Zld6MTF2S2tGT0M3STZGVkV1WVlFQlFFdG91S2tXbkR5RHRXZVFQa1g1ZVBSYUhkNHNLdEUyWUJKWWN3R01Ob2FSZ2JiVkVrMzItZmlsN1JJOGUzVVR3dGJBNVV3VlJrdEVuenNaTXVxVEVpZWJzTS1HTDZkTk1fX0Nxa2o4UE1RZ3E3UzdvNkwxV2lIU1lTaUtnRnJkX3IxT1pNVGNVUEY5MG84akhnZUNzVjZxXzl6bVh1bTJwVTV1NEF2VGh4a2l4dFlDTFpTTnJRNmE3bVp5WFRTWTVvanBnV1hzeld0bE92a3lrT1FHYW1FcnV2UnFVaW5jR2QwWVFBZ09SUUtNX1JBODBUaEFMSVNCZGpoc1h1cF9IN1N5UGZsQmlYZFFCRS1LMmdhSUZnWlVxS3lZWXdFMDMzSmo2eVRsOVZsbXp2YnNiRWhWVzNMSXdRelEzOGVtNEVmeFI2bkpycTVtc2pmNzBwUXdCOEhoeHJZQlpTWlI1V0JiY1JDVDlkaDFTTjZ3cDJGWjlJS3lsYnFiVkpIYmtvUlVpMHJlTmlVRjlSMjZudjgtektQREtUYVdLV3JNbFlyU1BiUk1Gek1sWHdGb1ZQX1ZWQmlka2pjMUVGOFdsaEY2akJqSnJobjdhSWowNkVNN1cyRTZaSVVWcFhIOFBhZ2g5Zmppem5GdFFWQjdRcFFMUEdQVFBlLWdsRnR6SEZ5RWZmWlMyTm1JZEZNOGgta3JtV1ZMUDl4VHh4YVNwY19WdzBQcW13MmptN1lZb2U3YVdzMUljMDU3NldGcDVzLUgyeFJBaGtGRjQ4eHhtcWk4YXNrZUJmTF9FMUNXQzlIdXphWnBtMldwVjNtb0h0VjR3UjctWGZ6YnlXQlE1MmVwejRCejhscDZ0dHloamFvanRtaWgyX216akhVZjRmNUZDOUFwX1o0MWU0dWsyRkFmb01ZQ3J4cGV2N1p5dWZsdGh4QWs0NXdxbkRxbVREWG8zZzUyUTl4Si1NSVJ2TWw5NHhQNFFnZnJCcDZOdDJvODVrZGwzQjl1V1BwVUdaOFZOT3F0Q09yc2xPOHBUZEFQUjM5YVhhVENXdERQbkFzTzV2Sk5GUl9EX0JBNk1xTmF5OTVmNE90YkRsVENETFFvT0xsRTJuWnJMXzhqRlBRaU9nSTFxUXd1dVpaMTBtZ2szbmhmNXpTZExrSzV2eExoVlE2WTU2ZXlObVRoZ3E5bG9JZ1A2REV5X1hQYkVZYWNQUjRsZ3k5M3JhSnM2bjA3eW12UW41RjJKMF9Jcmg4MGZqSzN0c0EtT09nQ2VQcVJmdWtEM3l6NjFuNnNqeW1OVndQOVdURDZlakJFYkt5ZnZwNXZOX1pUU2p1UzJaRWRaV2QwbHRmQVZub2V0dzlPTmQtd016MklleC10VjV6YjZQS003c1k1clJMRjNyend0SDczbEhEcTc1alhwd3lldFN2TjAwNlFHOFlYQVNhZ3JTblotR0ZGVkU2clZVTVhDN2ZSdm96M2FIbmNvZk9xcVRTWU84eERmTEROUHlpUzh5SWtQZ0Z2NUhCeVZfbjZQOWpIbjJ2MXM3SVhlNk9NanN4NWxabjZ0c3JiemstbEM2Vkc5eFY0cWRRV1AzaWh1R2ZJOWNlc3RXelkwV1NsYTN5bnhpMk9rWjdOTGN0UDlJSEZnSFpKVGNNQmlZY1dvbE5hTjMtdW9NQldaZG1IWFREZFFKanNxdlFIMl9zYmpxZFIxVUVuWWpLdkcycnQ1bUZlSy1XQjVKSVpjUmZiQ0JicUZ3Zk5iWjBOZnVNY1J4NnYyeE1VdnRaRXRKWUo1WVNrNGU5RnVvZThzUmJPdmY2clhlSUJBU0xfU2x3dFZDb2lJSkRNTk9fWlE4VWlpZ1RacG82RHZXSkF6TGItVnhMTHRPeFB6QTVaOGgxcEo3LUo5U0I2OHVnRERvUkxQOXJReGpDZ0ZrRC1wQkFELUx5akg0aGdQMlMwOUxlbHBGdFJlaGw4dGlwby03Zm84elFUamdSZXNYNXd0TzVVZTNCTlJXNEVzUGdOcTdDVGl4ZTU4LWVJaWYxT09RaFNaODh6ZDBDazdhM2JhM0NNcHhLVzVScGg3MFNzWldOUzRHWmpLLXQtOFF5R0pDcVRZaHVpY1ZjelNpTWI1ajh1V2JDcnRRV2hYTnhRMW9PbDRLaEp0cVB6U1BfWktNcVVxRlNDelpYWjFhN3FqVTlPQlpUdXRRMC1mLWV1R1VjdllXbm9NMjQ4SGN2ZzdhcEpoZHdVMVNCanhYNXAtU3JTMS00Y1lJY1hyRkpyeDVoNGRqWGxLOUVwMHhhbDQ3ZWUwYVZqbWNtdXZXVXRwUHJsWTBwdE9lSzVKVzhodEktOUNGQ0FScUhpTGhPZmZNOWtnZk5leGd5VUJTVGtpZnRBUlAwVjBrVEd6OFMtM3FDaFpaVDR5c0d0cWdpNVltM0ZjdWdxVHg1a1k4dHBUNThSVTRVZEo1M1NVT29WODVXYktmZDBudFlmakRKVUdnODMzb2wtQnRROXNJNVgwR3VGR3FjaGNOd2tHRm53bkJxUUJRZGdtd3hNWGdXbmdaVjhlOUVvQTZMTjlXTkFycGRxSnQ4THBrQ0xrRGZXTHo2VXFpUGk5aVEyNk0zd0NncVB5MnNYWkR6Z0FjZFdfWnRvcl81eVJMa3Q1b1BWd3hqeE1SQUhVWFhiWlhhMzJSNk1nPT0=)
        track: beta
      app_store_connect:
        app_id: dev.lorenzopieri.clicktochat
        apple_id: email@lorenzopieri.dev
        password: Encrypted(Z0FBQUFBQmVTdy1aWmpsLVpCVjZDQ0locUdCVlBHVEVydGI2a0M5bUlQRzVsZVp3bEtEUDZUWUQ4b3F4ZUt2b2E1S1NQVnRjVVNGSE1JTEhOQnZOd2VjM3EzdG8xUW1VUWVYUzVlOUhFVXhYMFA1M0RMNjh2VTQ9)
